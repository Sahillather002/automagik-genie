# Commit Advisory ‚Äì core-template-separation
**Generated:** 2025-10-07T03:39Z

## Snapshot
- **Branch:** `wish/core-template-separation`
- **Related Wish:** `.genie/wishes/core-template-separation/` (prompt enhancement work)
- **Files Modified:** 4 (3 agent prompts + 1 build artifact)

## Pre-Commit Gate Results

### Checklist Status
- ‚úÖ **Build:** `pnpm run build:genie` - PASS (TypeScript compilation successful)
- ‚úÖ **Tests:** `pnpm run test:genie` - PASS (genie-cli tests + identity smoke test passed)
- ‚úÖ **Lint/Format:** N/A (markdown files only, no linting configured)
- ‚úÖ **Docs:** N/A (prompt documentation is self-contained)
- ‚úÖ **Security:** N/A (no code execution changes)

### Blockers
None - all checks passed

### Verdict
**READY** (confidence: high)

## Changes by Domain

### Prompts (Core Agents)
- **`.genie/agents/core/compliance.md`** (+250 lines)
  - Added: Task breakdown, Success/Never sections, @ pattern guidance
  - Added: GDPR data export example with evidence collection plan
  - Enhanced: Control types, compliance framework, approval stakeholders

- **`.genie/agents/core/deep-dive.md`** (+230 lines)
  - Added: Task breakdown, Success/Never sections, @ pattern guidance
  - Added: Session management investigation example with dependency map
  - Enhanced: Investigation types, scope definition, performance projection

- **`.genie/agents/core/retrospective.md`** (+201 lines)
  - Added: Task breakdown, Success/Never sections, @ pattern guidance
  - Added: Q4 auth rewrite retrospective with wins/misses/lessons/actions
  - Enhanced: Evidence sources, quantified impact measurement, focus areas

### Build Artifacts
- **`.genie/cli/dist/lib/agent-resolver.js`** (auto-generated)
  - Updated: TypeScript compilation output from build process
  - Reflects: Latest agent registry changes from prompt enhancements

## Recommended Commit Message

```
feat(agents): enhance compliance, deep-dive, retrospective prompts with framework patterns

Complete P1 prompt enhancement batch (3/8 agents):
- Add Discovery ‚Üí Implementation ‚Üí Verification task breakdowns
- Add Success Criteria (‚úÖ) and Never Do (‚ùå) sections
- Add @ pattern guidance for auto-context loading
- Add comprehensive concrete examples with real scenarios

Changes:
- compliance.md: GDPR data export example with evidence plan (+250 lines)
- deep-dive.md: Session management investigation with dependency map (+230 lines)
- retrospective.md: Q4 auth rewrite retro with quantified wins/misses (+201 lines)

Total: +681 lines of framework-compliant prompt content

Part of wish/core-template-separation - prompt audit and enhancement initiative

Co-authored-by: Automagik Genie üßû <genie@namastex.ai>
```

## Validation Checklist
- [x] `pnpm run build:genie` - compiled successfully
- [x] `pnpm run test:genie` - all tests passed
- [x] Build artifacts staged (`.genie/cli/dist/lib/agent-resolver.js`)
- [x] All modified files follow framework patterns
- [ ] Human review of commit message (optional edit)

## Risks & Follow-ups

### Risks
- **Low:** Prompt length increased significantly (3x-8x); may hit context limits on smaller models
  - Mitigation: Framework patterns are modular; teams can trim examples as needed
- **Low:** Examples use fictional scenarios; teams may need project-specific examples
  - Mitigation: Custom overrides in `.genie/custom/*.md` address project specifics

### Follow-ups
1. Complete remaining P0/P1 agents (5 more from original audit)
2. Test enhanced prompts in production scenarios
3. Gather feedback on example quality and framework adherence
4. Document prompt enhancement process in `.genie/guides/`

## Advisory Metadata
- **Wish Slug:** core-template-separation
- **Advisory Path:** `.genie/wishes/core-template-separation/reports/commit-advice-core-template-separation-202510070339.md`
- **Generated By:** Genie Commit Agent (codex executor)
- **Confidence:** High (all checks passed, framework patterns validated)
